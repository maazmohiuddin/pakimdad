---
layout: default
title: Sign up
---

<style>
  .successclass {
    text-align: center;
    color: #00ff3c;
    margin: 10px 0px 10px 0px;
    padding: 10px 0px 10px 0px;
    background-color: #afffc2;
    border-radius: 10px;
    border: 2px solid #7aff99;
  }

  .errorclass {
    text-align: center;
    color: #ff4570;
    margin: 10px 0px 10px 0px;
    padding: 10px 0px 10px 0px;
    background-color: #ffd8d8;
    border-radius: 10px;
    border: 2px solid #ff4570;

    /* background-color: #afffc2;
border-radius: 10px;
border: 2px solid #7aff99; */
  }
</style>
<!-- Wrapper -->
<div class="login-wrapper columns is-gapless">
  <!-- Form section -->
  <div class="column is-6">
    <div class="hero is-fullheight">
      <!-- Header -->
      <div class="hero-heading">
        <div class="auth-logo">
          <a href="/"
            ><img
              class="top-logo switcher-logo"
              src="assets/img/logos/pakimdad-logo.png"
              alt=""
          /></a>
        </div>
      </div>

      <!-- Body -->
      <div class="hero-body">
        <div class="container">
          <div class="columns">
            <div class="column is-8 is-offset-2">
              <div class="auth-content">
                <h2 id="heading">Hi There.</h2>
                <p id="para">Please start by creating an account.</p>
                <a id="forgotpass" href="login.html"
                  >Have an account? Sign In
                </a>
              </div>

              <!-- Sign up form -->
              <form id="form1">
                <div
                  id="signup-form"
                  class="login-form animated preFadeInLeft fadeInLeft"
                >
                  <div class="field pb-10">
                    <div class="control has-icons-right">
                      <input
                        class="input is-medium has-shadow"
                        type="text"
                        id="first_name"
                        placeholder="First Name"
                      />
                      <span class="icon is-medium is-right">
                        <i class="sl sl-icon-user"></i>
                      </span>
                    </div>
                  </div>
                  <div class="field pb-10">
                    <div class="control has-icons-right">
                      <input
                        class="input is-medium has-shadow"
                        type="text"
                        id="last_name"
                        placeholder="Last Name"
                      />
                      <span class="icon is-medium is-right">
                        <i class="sl sl-icon-user"></i>
                      </span>
                    </div>
                  </div>
                  <div class="field pb-10">
                    <div class="control has-icons-right">
                      <input
                        class="input is-medium has-shadow"
                        type="text"
                        id="email"
                        placeholder="Email Address"
                      />
                      <span class="icon is-medium is-right">
                        <i class="sl sl-icon-envelope-open"></i>
                      </span>
                    </div>
                  </div>
                  <div class="field pb-10">
                    <div class="control has-icons-right">
                      <input
                        class="input is-medium has-shadow"
                        type="password"
                        id="password"
                        placeholder="Password"
                      />
                      <span class="icon is-medium is-right">
                        <i class="sl sl-icon-lock"></i>
                      </span>
                    </div>
                  </div>

                  <div id="errordiv">
                    <p id="error"></p>
                  </div>

                  <p class="control login">
                    <button
                      type="button"
                      class="button button-cta primary-btn btn-align-lg btn-outlined is-bold is-fullwidth rounded raised no-lh"
                      id="signup"
                      onClick="{usersignup()}"
                    >
                      Sign up
                    </button>
                  </p>
                </div>
              </form>

              <!-- Get contacted form -->
              <form>
                <div
                  id="contacted-form"
                  class="login-form animated preFadeInLeft fadeInLeft is-hidden"
                >
                  <div class="field pb-10">
                    <div class="control">
                      <input
                        class="input is-large"
                        type="text"
                        placeholder="Full name *"
                      />
                    </div>
                  </div>
                  <div class="field pb-10">
                    <div class="control">
                      <input
                        class="input is-large"
                        type="email"
                        placeholder="Email address *"
                      />
                    </div>
                  </div>
                  <div class="field pb-10">
                    <div class="control">
                      <input
                        class="input is-large"
                        type="text"
                        placeholder="Phone"
                      />
                    </div>
                  </div>
                  <p class="control login">
                    <button
                      type="button"
                      class="button button-cta secondary-btn btn-align-lg btn-outlined is-bold is-fullwidth rounded raised no-lh"
                    >
                      Send info
                    </button>
                  </p>
                </div>
              </form>

              <!-- Toggles-->
              <div
                id="contacted"
                class="pt-10 pb-10 forgot-password animated preFadeInLeft fadeInLeft"
              ></div>

              <div
                id="back-to-signup"
                class="pt-10 pb-10 forgot-password animated preFadeInLeft fadeInLeft is-hidden"
              >
                <p class="has-text-centered">
                  <a href="#">Back to Sign up</a>
                </p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Image section (hidden on mobile) -->
  <div class="column login-column is-7 is-hidden-mobile hero-banner">
    <div
      class="hero signup-hero login-hero is-fullheight is-theme-primary is-relative"
    >
      <ul class="circles">
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
      </ul>
    </div>
  </div>
  <!-- /Image section -->
</div>
<!-- /Wrapper-->

<script>
  if (JSON.parse(localStorage.getItem("isLogin")) == true) {
    const heading = document.getElementById("heading");
    const para = document.getElementById("para");
    heading.innerHTML = "You are already Signed in";
    heading.style.fontSize = "1.8em";
    para.style.fontSize = "1em";
    para.innerHTML =
      "<br>Please continue from home or logout to create new account";
    document.getElementById("form1").style.display = "none";
    document.getElementById("forgotpass").innerHTML = "Back to Home";
    document.getElementById("forgotpass").href = "/";
  }

  async function usersignup() {
    const first_name = document.getElementById("first_name").value;
    const last_name = document.getElementById("last_name").value;
    const error = document.getElementById("error");
    const email = document.getElementById("email").value;
    const password = document.getElementById("password").value;

    const response = await fetch(
      `https://pakimdaad.herokuapp.com/api/auth/register`,
      {
        method: "POST", // *GET, POST, PUT, DELETE, etc.
        headers: {
          "Content-Type": "application/json",
          // 'Content-Type': 'application/x-www-form-urlencoded',
        },
        body: JSON.stringify({
          first_name: first_name,
          last_name: last_name,
          email: email,
          password: password,
        }), // body data type must match "Content-Type" header
      }
    )
      .then((res) => res.json())
      .then((data) => {
        if (data.success) {
          localStorage.setItem("user", JSON.stringify(data.data));
          localStorage.setItem("token", data.token);
          localStorage.setItem("isLogin", true);
          window.location.href = "/";
          error.setAttribute("class", "error");
          error.innerHTML = data.message;
          errordiv.setAttribute("class", "successclass");
        } else {
          error.setAttribute("class", "error");
          errordiv.setAttribute("class", "errorclass");

          error.innerHTML = data.message;
        }
      });
  }
</script>
