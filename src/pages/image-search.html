---
layout: landing
title: Search
---

<style>
  .profilepic {
    height: 50px;
    width: 50px;
    border-radius: 50%;
    border: 2px solid black;
  }
</style>

<!DOCTYPE html>
<html lang="en">
  <body class="is-theme-core">
    <div class="<div" class="infraloader is-active"></div>

    <!-- Hero -->
    <div
      class="hero is-relative is-fullheight is-app-grey"
      data-page-theme="teal"
    >
      <!--Nav-->

      {{> navbar-fade-account}}

      <div class="hero-body">
        <div class="container">
          <div class="columns has-text-centered">
            <!-- Caption -->
            <div class="column is-8 is-offset-2 is-hero-caption is-centered">
              <h1 class="title is-1">Search Missing Person</h1>
              <h2 class="subtitle pt-10" style="margin-bottom: 33px !important">
                Search through out community contributed database
              </h2>
              <div class="buttons">
                <div class="grid-system is-medium">
                  <div class="column is-12">
                    <div class="flex-card simple-shadow">
                      <div class="card-body">
                        <div class="content">
                          <h2
                            class="no-margin title is-3"
                            style="margin-bottom: 33px !important"
                          >
                            Image Search
                          </h2>

                          <div class="columns is-vcentered pb-10">
                            <div class="column is-12">
                              <div class="section-wrapper">
                                <div
                                  class="uploader-controls has-text-right animated preFadeInUp fadeInUp"
                                >
                                  <input
                                    type="file"
                                    name="thumbnails"
                                    id="file"
                                  />
                                  <button
                                    type="submit"
                                    class="button btn-align button-cta raised no-lh is-bold secondary-btn"
                                    onclick="querysubmit()"
                                  >
                                    Upload
                                  </button>
                                </div>
                                <table class="table">
                                  <thead>
                                    <tr>
                                      <th>Name</th>

                                      <th>Age</th>

                                      <th>Image</th>
                                      <th>Actions</th>
                                    </tr>
                                  </thead>
                                  <tbody id="data"></tbody>
                                </table>
                              </div>
                            </div>
                          </div>
                          <div id="errordiv" style="padding: 0% !important">
                            <p id="error" style="padding: 10px !important"></p>
                          </div>
                          <p class="body-color">
                            Search via Image in our database contributed by our
                            local social talent.
                          </p>
                        </div>
                      </div>
                    </div>
                    <p class="body-color">
                      Search via Image in our database contributed by our local
                      social talent.
                    </p>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Card modal triggrt -->
    <button class="modal-trigger" data-modal="card-modal3">View NGO</button>

    <!-- Card modal -->
    <div id="card-modal3" class="modal modal-lg">
      <div class="modal-background"></div>
      <div class="modal-card modal-content z-index-101">
        <div class="modal-card-body" id="modal-data">
          <label>Name</label>
          <p id="fname"></p>
        </div>
        <footer class="modal-card-foot">
          <button class="button raised primary-btn modal-dismiss">Close</button>
        </footer>
      </div>
    </div>

    <!-- Card counter -->
    <div id="numbers-2" class="section section-feature-grey is-medium">
      <div class="container">
        <div class="section-title-wrapper">
          <div class="bg-number">1</div>
          <h2 class="title section-title has-text-centered dark-text text-bold">
            Hover cards
          </h2>
        </div>

        <div class="content-wrapper">
          <!-- Counters -->
          <div class="columns is-vcentered has-text-centered">
            <div class="column is-3">
              <div class="card-counter">
                <div class="flex-card light-bordered hover-inset">
                  <div class="round-icon">
                    <i class="material-icons">face</i>
                  </div>
                  <div class="counter counter-number text-bold">528</div>
                  <div class="counter-text">Active users</div>
                </div>
              </div>
            </div>
            <div class="column is-3">
              <div class="card-counter">
                <div class="flex-card light-bordered hover-inset">
                  <div class="round-icon">
                    <i class="material-icons">insert_drive_file</i>
                  </div>
                  <div class="counter counter-number text-bold">150000</div>
                  <div class="counter-text">Images shared</div>
                </div>
              </div>
            </div>
            <div class="column is-3">
              <div class="card-counter">
                <div class="flex-card light-bordered hover-inset">
                  <div class="round-icon">
                    <i class="material-icons">cloud_download</i>
                  </div>
                  <div class="counter counter-number text-bold">8924</div>
                  <div class="counter-text">Total Queries</div>
                </div>
              </div>
            </div>
            <div class="column is-3">
              <div class="card-counter">
                <div class="flex-card light-bordered hover-inset">
                  <div class="round-icon">
                    <i class="material-icons">attach_file</i>
                  </div>
                  <div class="counter counter-number text-bold">993</div>
                  <div class="counter-text">Resolved Cases</div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Back To Top Button -->
    <div id="backtotop"><a href="#"></a></div>

    <!-- /Chat widget -->
    <script src="https://api.mapbox.com/mapbox-gl-js/v1.12.0/mapbox-gl.js"></script>
    <script src="assets/js/app.js"></script>
    <script src="assets/js/core.js"></script>
  </body>
</html>
<!-- Side navigation -->
<div class="side-navigation-menu">
  <!-- Categories menu -->
  <div class="category-menu-wrapper">
    <!-- Menu -->
    <ul class="categories">
      <li class="square-logo">
        <img src="assets/img/logos/square-white.svg" alt="" />
      </li>
      <li class="category-link is-active" data-navigation-menu="demo-pages">
        <i class="sl sl-icon-layers"></i>
      </li>
      <li class="category-link" data-navigation-menu="onepagers">
        <i class="sl sl-icon-docs"></i>
      </li>
      <li class="category-link" data-navigation-menu="components">
        <i class="sl sl-icon-grid"></i>
      </li>
    </ul>
    <!-- Menu -->

    <ul class="author">
      <li>
        <!-- Theme author -->
        <a href="https://cssninja.io" target="_blank">
          <img
            class="main-menu-author"
            src="assets/img/logos/cssninja.svg"
            alt=""
          />
        </a>
      </li>
    </ul>
  </div>
</div>

<style>
  .successclass {
    color: #00ff3c;
    margin: 20px;
    padding: 10px;
    background-color: #afffc2;
    border-radius: 10px;
    border: 2px solid #7aff99;
  }

  .errorclass {
    color: #ff4570;
    margin: 20px;
    padding: 10px;
    background-color: #ffd8d8;
    border-radius: 10px;
    border: 2px solid #ff4570;

    /* background-color: #afffc2;
border-radius: 10px;
border: 2px solid #7aff99; */
  }
</style>

<div id="backtotop"><a href="#"></a></div>
<script src="assets/js/app.js"></script>
<script src="assets/js/core.js"></script>
<script>
  function querysubmit() {
    const errordiv = document.getElementById("errordiv");
    const error = document.getElementById("error");

    if (!localStorage.getItem("token")) {
      error.setAttribute("class", "error");
      errordiv.setAttribute("class", "errorclass");
      error.innerHTML = "Login first";
      return;
    }
    const file = document.getElementById("file").files;
    const payload = new FormData();
    payload.append("file", file[0]);

    const res = fetch(`https://pakimdaad.herokuapp.com/api/query/getimage`, {
      method: "POST",
      hwaders: { "Content-type": "form-data" },
      body: payload,
    })
      .then((res) => res.json())
      .then(async (data) => {
        const tableBody = document.getElementById("data");

        if (data.success) {
          const error = document.getElementById("error");
          error.setAttribute("class", "success");
          errordiv.setAttribute("class", "successclass");
          error.innerHTML = data.message;
          for (var i = 0; i < data.data.length; i++) {
            console.log(JSON.stringify(data.data[i]));

            markup = `<tr class="rowdata"><td>
                        ${
                          data.data[i].first_name + " " + data.data[i].last_name
                        }
                    </td>
                    <td>
    ${data.data[i].age}
    </td>
    <td>
        <img src=https://pakimdaad.herokuapp.com/api/query/image/${
          data.data[i].images
        } class="profilepic">
    </td>
    <td>
      <button class="
      button
      is-small
      btn-align
      accent-btn
      raised
      rounded
      btn-outlined
      modal-trigger"

      data-modal="card-modal3"
      onclick="
        datamap(
         ${JSON.stringify(
           data.data[i].first_name + " " + data.data[i].last_name
         )}  
        )
      
      "
    ">
            View More
        </button>
        <button class="modal-trigger" data-modal="card-modal3">View NGO</button>
    </td>
    </tr>
    <div id="card-modal3" class="modal modal-lg">
      <div class="modal-background"></div>
      <div class="modal-card modal-content z-index-101">
        <div class="modal-card-body" id="modal-data">
          <label>Name</label>
          <p id="fname"></p>
        </div>
        <footer class="modal-card-foot">
          <button class="button raised primary-btn modal-dismiss">Close</button>
        </footer>
      </div>
    </div>

    `;

            tableBody.insertAdjacentHTML("afterend", markup);
          }
        } else {
          const error = document.getElementById("error");
          error.setAttribute("class", "error");
          errordiv.setAttribute("class", "errorclass");
          error.innerHTML = data.message;
          console.log(data.message);
          markup = "";
          tableBody.insertAdjacentHTML("afterend", markup);
        }
      });
  }
  async function datamap(body) {
    await console.log(body);
    // body = JSON.parse(body);
    // console.log(body);

    const datamodal = document.getElementById("modal-data");
    const fname = document.getElementById("fname");

    fname = body;

    tableBody.insertAdjacentHTML("afterend", datamodal);
  }
</script>

{{> footer-side-light}}
